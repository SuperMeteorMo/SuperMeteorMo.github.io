import{f as e,B as a,n as i,k as s,c as n,w as r,i as t,o as l,a as o,d,r as c,F as u,b as g,t as f,m as p,E as h,e as m,z as b,G as _}from"./index-CpH68wGS.js";import{_ as x}from"./unicloud-db.C6zbua0L.js";import{r as k}from"./uni-app.es.sM20WYHF.js";import{_ as w,a as L}from"./uni-grid.C9Ko42as.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=v({data:()=>({gridList:[],current:0,hasLogin:!1}),onShow(){this.hasLogin=e.getCurrentUserInfo().tokenExpired>Date.now()},onLoad(){let e=[];for(var a=0;a<3;a++)e.push(this.$t("grid.visibleToAll"));for(a=0;a<3;a++)e.push(this.$t("grid.invisibleToTourists"));for(a=0;a<3;a++)e.push(this.$t("grid.adminVisible"));this.gridList=e},methods:{change(e){a({title:this.$t("grid.clickTip")+` ${e.detail.index+1} `+this.$t("grid.clickTipGrid"),icon:"none"})},onqueryload(e){},changeSwiper(e){this.current=e.detail.current},clickBannerItem(e){e.open_url&&i({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e.open_url+"&title="+e.title,success:e=>{},fail:()=>{},complete:()=>{}})}}},[["render",function(e,a,i,v,y,C){const $=p,j=_,B=h,I=k(s("unicloud-db"),x),T=m,F=t,S=k(s("uni-grid-item"),w),q=k(s("uni-grid"),L);return l(),n(F,{class:"warp"},{default:r((()=>[o(I,{ref:"bannerdb",collection:"opendb-banner",field:"_id,bannerfile,open_url,title",onLoad:C.onqueryload},{default:r((({data:e,loading:a,error:i,options:s})=>[a||e.length?(l(),n(B,{key:1,class:"swiper-box",onChange:C.changeSwiper,current:y.current,"indicator-dots":""},{default:r((()=>[(l(!0),d(u,null,c(e,((e,a)=>(l(),n(j,{key:e._id},{default:r((()=>[o($,{class:"banner-image",src:e.bannerfile.url,mode:"aspectFill",onClick:a=>C.clickBannerItem(e),draggable:!1},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:2},1032,["onChange","current"])):(l(),n($,{key:0,class:"banner-image",src:"/assets/headers-BiHnxiJ5.png",mode:"aspectFill",draggable:!1}))])),_:1},8,["onLoad"]),o(F,{class:"section-box"},{default:r((()=>[o(T,{class:"decoration"}),o(T,{class:"section-text"},{default:r((()=>[g(f(e.$t("grid.grid")),1)])),_:1})])),_:1}),o(F,{class:"example-body"},{default:r((()=>[o(q,{column:3,highlight:!0,onChange:C.change},{default:r((()=>[(l(!0),d(u,null,c(y.gridList,((a,i)=>(l(),d(u,null,[i<3||i>2&&i<6&&y.hasLogin||i>5&&e.uniIDHasRole("admin")?(l(),n(S,{index:i,key:i},{default:r((()=>[o(F,{class:"grid-item-box",style:{"background-color":"#fff"}},{default:r((()=>[o(T,{class:"big-number"},{default:r((()=>[g(f(i+1),1)])),_:2},1024),o(T,{class:"text"},{default:r((()=>[g(f(a),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])):b("",!0)],64)))),256))])),_:1},8,["onChange"])])),_:1})])),_:1})}],["__scopeId","data-v-5f2644cf"]]);export{y as default};
